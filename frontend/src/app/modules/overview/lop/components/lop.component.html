<div class="div-table ">
  <div>
    <table mat-table [dataSource]="lop.lopList" class="mat-elevation-z8">

      <ng-container class="mat-column-Aufnahme" matColumnDef="Aufnahme">
        <th mat-header-cell *matHeaderCellDef> Aufnahme </th>
        <td mat-cell *matCellDef="let lop">{{lop.startDate}}</td>
      </ng-container>

      <ng-container class="mat-column-LOP" matColumnDef="LOP">
        <th mat-header-cell *matHeaderCellDef> LOP </th>
        <td mat-cell *matCellDef="let lop">{{lop.item}}</td>
      </ng-container>

      <ng-container class="mat-column-Status" matColumnDef="Status">
        <th class="th-center" mat-header-cell *matHeaderCellDef> Status </th>
        <td class="th-center" mat-cell *matCellDef="let lop">

          <button [ngClass]="{
          'status-erledigt': lop.status=='ERLEDIGT',
          'status-offen': lop.status=='OFFEN',
          'status-in-arbeit': lop.status=='INARBEIT'
          }" mat-button [matMenuTriggerFor]="menu">
            {{lop.status}}
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="changeToOFFEN(lop.id)">OFFEN</button>
            <button mat-menu-item (click)="changeToINARBEIT(lop.id)">INARBEIT</button>
            <button mat-menu-item (click)="changeToERLEDIGT(lop.id)">ERLEDIGT</button>
          </mat-menu>

        </td>
      </ng-container>

      <ng-container class="mat-column-Erledigt" matColumnDef="Erledigt">
        <th class="th-center" mat-header-cell *matHeaderCellDef> Erledigt </th>
        <td class="th-center" mat-cell *matCellDef="let lop">{{lop.endDate}}</td>
      </ng-container>

      <ng-container class="mat-column-Benutzer" matColumnDef="Benutzer">
        <th class="th-center" mat-header-cell *matHeaderCellDef> Benutzer </th>
        <td class="th-center" mat-cell *matCellDef="let lop">{{lop.userAcronym}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
