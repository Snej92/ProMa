<form [formGroup]="versionForm" (ngSubmit)="saveVersion()">
  <mat-card class="mat-card-version">
    <mat-card-header>
      <h1>{{versionTitle}}</h1>
    </mat-card-header>
    <mat-card-content>

      <div class="d-flex">
        <mat-form-field class="me-2">
          <mat-label>Datum</mat-label>
          <input matInput
                 formControlName="date" type="text"
                 placeholder="Datum auswählen">
          <button mat-icon-button
                  color="accent"
                  type="button"
                  matSuffix
                  (click)="togglePicker($event)">
            <mat-icon>today</mat-icon>
          </button>
        </mat-form-field>

<!--        Datepicker-->
        <div *ngIf="showPicker"
             [@transformPanel]="'enter'"
             class="tp-datepicker-wrapper">
          <mat-card class="tp-datepicker mat-elevation-z10">
            <mat-calendar [@fadeInCalendar]="'enter'"
                          [selected]="selectedDate"
                          [startAt]="selectedDate"
                          (selectedChange)="setDateToInputField($event)">
            </mat-calendar>
          </mat-card>
        </div>

        <mat-form-field>
          <mat-label>Version</mat-label>
          <input matInput
                 formControlName="version"
                 pattern="^[0-9.]*$">
          <mat-error *ngIf="versionForm.controls['version'].hasError('pattern')">
            Unerlaubte Zeichen
          </mat-error>
          <mat-error *ngIf="versionForm.controls['version'].hasError('required')">
            Dieses Feld ist erforderlich
          </mat-error>
        </mat-form-field>
      </div>

      <mat-form-field>
        <mat-label>Aufgabe</mat-label>
        <input matInput
               formControlName="toDo"
               pattern="^[A-Za-z0-9_öüä +*#´`'\-]*$">
        <mat-error *ngIf="versionForm.controls['toDo'].hasError('pattern')">
          Unerlaubte Zeichen
        </mat-error>
        <mat-error *ngIf="versionForm.controls['toDo'].hasError('required')">
          Dieses Feld ist erforderlich
        </mat-error>
      </mat-form-field>

    </mat-card-content>

      <mat-card-actions>
        <button type="submit" mat-raised-button color="accent"> {{data.button}} </button>
        <button type="reset" mat-raised-button color="primary" (click)="closePopup()"> Abbrechen </button>
      </mat-card-actions>

  </mat-card>
</form>
